local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()

-- Create the main window
local Window = OrionLib:MakeWindow({
    Name = "Kiyo Hub",
    HidePremium = false,
    SaveConfig = false,
    ConfigFolder = "NatHubConfig"
})

-- Create a tab
local MainTab = Window:MakeTab({
    Name = "Grow a Garden",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Add a section
local Section = MainTab:AddSection({
    Name = "Scripts"
})

-- NatHub button
MainTab:AddButton({
    Name = "NatHub",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua"))()
    end
})

-- Speed Hub button
MainTab:AddButton({
    Name = "Speed hub",
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
    end
})

-- Lunor Hub button
MainTab:AddButton({
    Name = "Lunor hub",
    Callback = function()
        loadstring(game:HttpGet('https://lunor.dev/loader'))()
    end
})

-- No Lag Hub button
MainTab:AddButton({
    Name = "No Lag hub",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Grow-a-Garden-NoLag-Hub-no-key-38699"))()
    end
})

-- Server Hop Button
MainTab:AddButton({
    Name = "Server Hop (Auto-Exec UI + Speed Hub)",
    Callback = function()
        local HttpService = game:GetService("HttpService")
        local TeleportService = game:GetService("TeleportService")
        local Players = game:GetService("Players")

        -- Auto-reload scripts on teleport
        queue_on_teleport([[
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Melbinablond/Kiyo-Script-Hub/refs/heads/main/Kiyo%20Script%20Hub"))()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        ]])

        -- Find available servers
        local function serverHop()
            local gameId = game.PlaceId
            local servers = {}
            local req = syn and syn.request or http_request or request

            if not req then
                warn("Your executor does not support HTTP requests.")
                return
            end

            local success, response = pcall(function()
                return req({
                    Url = string.format("https://games.roblox.com/v1/games/%s/servers/Public?sortOrder=Asc&limit=100", gameId)
                })
            end)

            if success and response and response.Body then
                local data = HttpService:JSONDecode(response.Body)
                if data and data.data then
                    for _, server in ipairs(data.data) do
                        if server.playing < server.maxPlayers and server.id ~= game.JobId then
                            table.insert(servers, server.id)
                        end
                    end
                end
            end

            if #servers > 0 then
                TeleportService:TeleportToPlaceInstance(gameId, servers[math.random(1, #servers)], Players.LocalPlayer)
            else
                warn("No available servers to hop to.")
            end
        end

        serverHop()
    end
})

-- Init UI
OrionLib:Init()
